pico-8 cartridge // http://www.pico-8.com
version 16
__lua__
-- Oh Mummy quick engine for Adam
-- rob

function _init()
 init_system()

 init_new_game()
 screen=gamescreen
end

function _draw()
 if (screen==gamescreen) draw_game()
 if (screen==menuscreen) draw_menu()
end
function _update()
 if (screen==gamescreen) update_game()
 if (screen==menuscreen) update_menu()
end


function draw_game()
 cls(0)
 map(0,0,0,0,16,16)
 spr(1,p.x,p.y)
end

function draw_menu()
end

function update_game()
  update_player()
  update_level()
  update_mummies()
end

function update_player()
 player_timer+=1
 if (player_timer>2) then
 newx=p.x
 newy=p.y
 if (btn(0,0)) newx-=movepixels
 if (btn(1,0)) newx+=movepixels
 if (btn(2,0)) newy-=movepixels
 if (btn(3,0)) newy+=movepixels
 player_timer=0
 p.x=newx
 p.y=newy
end

end

function update_level()
end

function update_mummies()
end


function update_menu()
end

function init_new_game()
 p={}
 p.x=0
 p.y=16
 player_timer=0
end

function init_system()
 menuscreen=0
 gamescreen=1

 movepixels=8

 -- sprite flags
 scenery = 0

 -- sprite ids
 player = 1
 -- reserving some space for animations
 mummy = 17

 unopened_chest = 64
 walkway = 65
 dotted_walkway = 66
 inwards = 67 // just decoration really
 outwards = 68
 brick_wall = 69

end


__gfx__
00000000111111110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000011aaa1110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
007007001ccca1110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700011ccc1110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000111c1c110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070011ccc1110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000001cc1c1110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000011111c110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4444444411111111111111111111111111111111aaaaaaaa11111111000000000000000000000000000000000000000000000000000000000000000000000000
444444441111111111111111d111111111111d1188a8888811111111000000000000000000000000000000000000000000000000000000000000000000000000
4444444411111111111111116d111111111116d188a8888811111111000000000000000000000000000000000000000000000000000000000000000000000000
4444444411111111111cc11166d111111111166d88a8888811111111000000000000000000000000000000000000000000000000000000000000000000000000
4444444411111111111cc1116661111111111666aaaaaaaa11111111000000000000000000000000000000000000000000000000000000000000000000000000
4444444411111111111111116611111111111661888888a811111111000000000000000000000000000000000000000000000000000000000000000000000000
4444444411111111111111116111111111111611888888a811111111000000000000000000000000000000000000000000000000000000000000000000000000
4444444411111111111111111111111111111111888888a811111111000000000000000000000000000000000000000000000000000000000000000000000000
__gff__
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
4646464646464646464646464646464600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4545454545454545454545454545454500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4141414141414141414141414141414400000045450000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4140404140404140404140404140404100004545454500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4140404140404140404140404140404100000045454500450000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4141414141414141414141414141414100000000454545454545454500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4140404140404140404140404140404100000000454545454545454545450000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4140404140404140404140404140404100004500454545454545454545000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4141414141414141414141414141414100000000454545454545454545000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4140404140404140404140404140404100000000454500454545454545000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4140404140404140404140404140404100000045004500454545454545000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4141414141414141414141414141414100000000000000004500454545000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4140404140404140404140404140404100450000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4140404140404140404140404140404100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4341414141414141414141414141414100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4545454545454545454545454545454500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
011000000e35112351173511b35120351233512535125351253512535124351233511f3511f3511d351193511635112351103510d3510c3510a35108351063510535104351043510335103351003010030100301
011000001035010300103501c300103501c3001c350000001035010300103501c3001c3501c3001c350000001035010300103501830018350183501a3501a3501035010300103501c3001c3501c3001c35000000
011000001335010300133501c300133501c3001f350000001335010300133501c3001f3501c3001d35000000133501030013350183001f3501d350183501a35013350103001f3501c3001f3501c3001f35000000
011000001035010300103501c300103501c30010350000001035010300103501c3000e3501a3500c3501835010350103001035018300103501c350103501c3501035010300103501c300103501c350283501c350
011000000c350103000c3501c300183501c30018350000000c350183500c3501c3000c3501a3000c350183500e350103000e350183000e3501a350263501a3500e350103000e3501c3001a3501c0001a3500e850
011000003b6350080000000000003b6350000000000000003b635000003b605000003b635000003b605000003b6350000000000000003b6350000000000000003b6350000000000000003b635000003b6353b635
011000003b635008003b635000003b63500000000003b6353b635000003b635000003b635000003b6053b6353b635000003b635000003b635000003b6353b6353b635000003b635000003b6353b6353b6353b635
__music__
01 01054344
00 01054344
00 02054344
00 02054344
00 03054344
02 04064344

